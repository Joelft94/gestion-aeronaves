<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>{{ aircraft.name }}</title>
</head>
<body>
    <h1>{{ aircraft.name }}</h1>
    <!-- Delete button for aircraft -->
    <form id="delete-aircraft-form" action="{{ url_for('delete_aircraft', aircraft_id=aircraft.id)}}" method="POST">
        <button type="button" onclick="confirmDelete()">Delete Aircraft</button>
    </form>
    <!-- Confirmation dialog for deleting aircraft -->
    <script>
        function confirmDelete() {
            if (confirm("Are you sure you want to delete this aircraft?")) {
                document.getElementById('delete-aircraft-form').submit();
            }
        }
    </script>
    <!-- Add Flight form -->
    <h2>Add Flight</h2>
    <form action="{{ url_for('add_flight', aircraft_id=aircraft.id) }}" method="POST">
        <!-- Add flight fields -->
        <label for="pilot">Pilot:</label><br>
        <input type="text" id="pilot" name="pilot" required><br>
        <label for="copilot">Copilot:</label><br>
        <input type="text" id="copilot" name="copilot" required><br>
        <label for="departure_hour">Departure Hour:</label><br>
        <input type="time" id="departure_hour" name="departure_hour" required><br>
        <label for="arrival_hour">Arrival Hour:</label><br>
        <input type="time" id="arrival_hour" name="arrival_hour" required><br>
        <label for="total_flown_hours">Total Flown Hours:</label><br>
        <input type="number" step="0.1" id="total_flown_hours" name="total_flown_hours" required><br>
        <label for="departure_place">Departure Place:</label><br>
        <input type="text" id="departure_place" name="departure_place" required><br>
        <label for="flight_type">Flight Type:</label><br>
        <input type="text" id="flight_type" name="flight_type" required><br>
        <label for="observation">Observation:</label><br>
        <input type="text" id="observation" name="observation" required><br>
        <!-- Submit button -->
        <input type="submit" value="Submit">
    </form>
    <!-- Flight History table -->
    <h2>Flight History</h2>
    <table>
        <tr>
            <th>Pilot</th>
            <th>Copilot</th>
            <th>Departure Hour</th>
            <th>Arrival Hour</th>
            <th>Total Flown Hours</th>
            <th>Departure Place</th>
            <th>Flight Type</th>
            <th>Observation</th>
            <th>Actions</th>
        </tr>
        {% for status in statuses %}
        <tr>
            <td>{{ status.pilot }}</td>
            <td>{{ status.copilot }}</td>
            <td>{{ status.departure_hour }}</td>
            <td>{{ status.arrival_hour }}</td>
            <td>{{ status.total_flown_hours }}</td>
            <td>{{ status.departure_place }}</td>
            <td>{{ status.flight_type }}</td>
            <td>{{ status.observation }}</td>
            <td>
                <!-- Edit button -->
                <a href="{{ url_for('edit_airplane_status', id=status.id) }}">
                    <button>Edit</button>
                </a>
                <!-- Delete button for status -->
                <form action="{{ url_for('delete_airplane_status', id=status.id) }}" method="POST" style="display:inline;">
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
